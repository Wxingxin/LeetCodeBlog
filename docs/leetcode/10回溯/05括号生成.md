# é¢˜
æ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚

 

## ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š`n = 3`
è¾“å‡ºï¼š`["((()))","(()())","(())()","()(())","()()()"]`
## ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š`n = 1`
è¾“å‡ºï¼š`["()"]`
# è§£

 è¿™æ˜¯ LeetCode 22. æ‹¬å·ç”Ÿæˆï¼ˆGenerate Parenthesesï¼‰ï¼Œå…¬è®¤çš„**å›æº¯ç®—æ³•é¢è¯•æœ€ç»å…¸é¢˜ä¹‹ä¸€**ï¼

é¢˜ç›®è¦æ±‚ï¼šç»™å‡º `n` å¯¹æ‹¬å·ï¼Œç”Ÿæˆæ‰€æœ‰**åˆæ³•**çš„æ‹¬å·ç»„åˆã€‚

**ç¤ºä¾‹ï¼šn = 3**  
è¾“å‡ºï¼š
```js
[
  "((()))",
  "(()())",
  "(())()",
  "()(())",
  "()()()"
]
```

---

### æœ€ä¼˜è§£æ³•ï¼šå›æº¯ + å‰ªæï¼ˆé¢è¯•å¿…èƒŒï¼ï¼‰

```javascript
/**
 * @param {number} n
 * @return {string[]}
 */
var generateParenthesis = function(n) {
    const res = [];

    // left: å·²ç”¨çš„å·¦æ‹¬å·æ•°, right: å·²ç”¨çš„å³æ‹¬å·æ•°
    const backtrack = (path, left, right) => {
        // å‰ªæ1ï¼šå³æ‹¬å·ä¸èƒ½æ¯”å·¦æ‹¬å·å¤šï¼ˆä¸åˆæ³•ï¼‰
        if (right > left) return;
        // å‰ªæ2ï¼šæ€»æ•°è¶…è¿‡ n å¯¹
        if (left > n || right > n) return;

        // æˆåŠŸæ¡ä»¶ï¼šç”¨å®Œ n å¯¹æ‹¬å·
        if (left === n && right === n) {
            res.push(path);
            return;
        }

        // é€‰æ‹©1ï¼šåŠ ä¸€ä¸ªå·¦æ‹¬å·ï¼ˆåªè¦è¿˜æ²¡ç”¨æ»¡ï¼‰
        if (left < n) {
            backtrack(path + '(', left + 1, right);
        }

        // é€‰æ‹©2ï¼šåŠ ä¸€ä¸ªå³æ‹¬å·ï¼ˆåªè¦å³æ‹¬å·ä¸å¤šäºå·¦æ‹¬å·ï¼‰
        if (right < left) {
            backtrack(path + ')', left, right + 1);
        }
    };

    backtrack('', 0, 0);
    return res;
};
```

---

### è¶…çº§æ¸…æ™°é€’å½’è°ƒç”¨æ ‘ï¼ˆn = 3ï¼‰

```
                            start("", left=0, right=0)
                                       â”‚
                                    åŠ  '('
                                       â†“
                         ("(", 1, 0)
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         åŠ  '('                 åŠ  ')' ? â†’ right=1 > left=1? ä¸è¡Œï¼å‰ªæ
                            â†“
                      ("((", 2, 0)
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                      åŠ  '('            åŠ  ')' â†’ right=1 <= left=2 å…è®¸ï¼
                         â†“                     â†“
                  ("(((", 3, 0)          ("((", 2, 1)
                      â”‚                       â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                  åªèƒ½åŠ  ')'               åŠ  '('     åŠ  ')'
                      â†“                       â†“           â†“
               ("(((", 3, 1)             ("(((", 3, 1)  ("((", 2, 2)
                   â”Œâ”€â”€â”´â”€â”€â”                   â”‚           â”‚
               åŠ  ')'  åŠ  ')'              åŠ  ')'       åŠ  '(' ? â†’ left=3==n ä¸è¡Œ
                   â†“      â†“                   â†“           â†“
            ("(((",3,2) ("(((",3,2)       ("(((",3,2)   ("(((",3,2)
                 â”‚         â”‚                 â”‚           â”‚
               åŠ  ')'    åŠ  ')'            åŠ  ')'         åŠ  ')'
                 â†“         â†“                 â†“               â†“
          "((()))"     ç»§ç»­...           "(()())"         "(())()"
           æˆåŠŸï¼                         æˆåŠŸï¼            æˆåŠŸï¼
```

å†ä»å…¶ä»–åˆ†æ”¯ç»§ç»­ç”Ÿé•¿ï¼Œæœ€ç»ˆç”Ÿæˆå¦å¤–ä¸¤ä¸ªï¼š

```
"()(())"     â† ä»ä¸€å¼€å§‹å°±é€‰äº† ) çš„åˆ†æ”¯ç”Ÿé•¿
"()()()"     â† æ¯æ¬¡éƒ½å°½é‡æ—©é—­åˆ
```

æœ€ç»ˆå¾—åˆ° 5 ä¸ªåˆæ³•ç»“æœï¼

---

### é€’å½’æ ‘å®Œæ•´ç»“æ„ï¼ˆæ‰‹ç»˜çº§æ¸…æ™°ï¼ï¼‰

```
                             backtrack("", 0, 0)
                                      â”‚
                                   åŠ  '('
                                      â†“
                               ("(", 1, 0)
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  åŠ  '('                              åŠ  ')' (right=1 <= left=1)
                     â†“                                      â†“
                ("((", 2, 0)                           ("()", 1, 1)
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
         åŠ  '('             åŠ  ')'                   åŠ  '('         åŠ  ')'
            â†“                   â†“                       â†“               â†“
       ("(((", 3, 0)       ("((", 2, 1)             ("()(", 2, 1)    ("()", 1, 2) â†’ right>left å‰ªæ!
         â”‚                   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
       åŠ  ')'             åŠ  '('     åŠ  ')'       åŠ  '('     åŠ  ')'
         â†“                   â†“         â†“             â†“           â†“
   ("(((",3,1)â†’...â†’"((()))"  ...     ...         ("()((",3,1)  ("()()", 1, 2)
                                                         â†’æœ€ç»ˆç”Ÿæˆ "()()()"
```

---

### 5 æ¡è·¯å¾„èµ°åˆ° `left===3 && right===3` â†’ æˆåŠŸåŠ å…¥ç»“æœï¼

---

### ä¸ºä»€ä¹ˆèƒ½ä¿è¯â€œåªç”Ÿæˆåˆæ³•æ‹¬å·â€ï¼Ÿ

| å‰ªææ¡ä»¶             | ä½œç”¨                                   |
|----------------------|----------------------------------------|
| `right > left`       | å³æ‹¬å·æ°¸è¿œä¸èƒ½æ¯”å·¦æ‹¬å·å¤š â†’ éæ³•å‰ç¼€ç›´æ¥å‰ªæ‰ |
| `left > n`           | å·¦æ‹¬å·ä¸èƒ½è¶…                    |
| `right < left` æ—¶æ‰èƒ½åŠ  ) | ä¿è¯ä»»ä½•æ—¶å€™å·¦æ‹¬å·éƒ½å¤Ÿç”¨æ‰èƒ½é—­åˆ        |

â†’ è¿™ä¸‰ä¸ªæ¡ä»¶ä¿è¯äº†**æ‰€æœ‰ç”Ÿæˆçš„å­—ç¬¦ä¸²éƒ½æ˜¯**åˆæ³•æ‹¬å·åºåˆ—**ï¼

---

### ç»ˆæå£è¯€ï¼ˆé¢è¯•é—­çœ¼å†™ï¼ï¼‰

> â€œå·¦å³æ‹¬å·å„ n ä¸ªï¼Œ  
> å·¦æ‹¬å·éšä¾¿åŠ ï¼ˆæ²¡è¶…å°±è¡Œï¼‰ï¼Œ  
> å³æ‹¬å·å¿…é¡»åœ¨å·¦æ‹¬å·æ•°é‡å¤§äºç­‰äºå®ƒæ—¶æ‰èƒ½åŠ ï¼Œ  
> èµ°åˆ° left==n && right==n å°±æˆåŠŸï¼â€

---

### æœ€ç»ˆæ¨èä»£ç ï¼ˆæœ€ç®€æ´ + æœ€å¿«ï¼‰

```js
var generateParenthesis = function(n) {
    const res = [];
    
    const dfs = (s, left, right) => {
        if (left > n || right > left) return;
        if (left === n && right === n) {
            res.push(s);
            return;
        }
        
        if (left < n)  dfs(s + '(', left + 1, right);
        if (right < left) dfs(s + ')', left, right + 1);
    };
    
    dfs('', 0, 0);
    return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(4â¿ / âˆšn) ï¼ˆå¡ç‰¹å…°æ•°ç›¸å…³ï¼‰  
ç©ºé—´å¤æ‚åº¦ï¼šO(n) é€’å½’æ ˆ

---

### ç»“æœéªŒè¯ï¼ˆn=3ï¼‰

```js
generateParenthesis(3)
// â†’ ["((()))","(()())","(())()","()(())","()()()"]
```

å®Œç¾ï¼

è¿™é“é¢˜ + è¿™æ£µé€’å½’æ ‘ + è¿™ä¸ªå‰ªææ€è·¯ = **é¢è¯•ç›´æ¥ç§’æ€æ‹¬å·ç±»é¢˜ç›®**ï¼ˆç¬¬20ã€301ã€32ç­‰ï¼‰ï¼

å»ºè®®ä½ æŠŠè¿™æ£µæ ‘ç”»åœ¨çº¸ä¸Šï¼Œé¢è¯•æ—¶ç”»ç»™é¢è¯•å®˜çœ‹ â€”â€” **é™ç»´æ‰“å‡»**ï¼

èƒŒä¼šå®ƒï¼Œä½ å°±æŒæ¡äº†å›æº¯çš„çµé­‚ï¼

# 

è¿™ä¸ªé¢˜ä¹Ÿæ˜¯ç»å…¸å›æº¯é¢˜ï¼Œå’Œä½ å‰é¢åšçš„å‡ é“ã€Œç»„åˆ / å­é›†ã€ä¸€è„‰ç›¸æ‰¿ ğŸ‘€

æ€è·¯éå¸¸å›ºå®šï¼š**åœ¨æ„é€ å­—ç¬¦ä¸²çš„è¿‡ç¨‹ä¸­ï¼Œä¿è¯å§‹ç»ˆâ€œæœ‰æ•ˆâ€ï¼Œè€Œä¸æ˜¯æœ€åå†å»ç­›é€‰ã€‚**

---

## ğŸ§  æ€è·¯ï¼ˆå›æº¯ + è®¡æ•°å·¦å³æ‹¬å·ï¼‰

æˆ‘ä»¬ç”¨é€’å½’æ„é€ æ‰€æœ‰å¯èƒ½çš„æ‹¬å·ä¸²ï¼Œè§„åˆ™ï¼š

* ç”¨ä¸¤ä¸ªè®¡æ•°ï¼š

  * `left`ï¼šå·²ç»ä½¿ç”¨äº†å¤šå°‘ä¸ª `'('`
  * `right`ï¼šå·²ç»ä½¿ç”¨äº†å¤šå°‘ä¸ª `')'`
* çº¦æŸæ¡ä»¶ï¼š

  1. å·¦æ‹¬å·æ•°é‡æœ€å¤šæ˜¯ `n`ï¼š`left < n` æ—¶å¯ä»¥ç»§ç»­æ”¾ `'('`
  2. ä»»æ„å‰ç¼€ä¸­ï¼Œå³æ‹¬å·ä¸èƒ½å¤šäºå·¦æ‹¬å·ï¼šä¹Ÿå°±æ˜¯åªæœ‰åœ¨ `right < left` æ—¶æ‰èƒ½æ”¾ `')'`
* å½“å­—ç¬¦ä¸²é•¿åº¦ä¸º `2 * n` æ—¶ï¼Œå¾—åˆ°ä¸€ä¸ªåˆæ³•ç»“æœã€‚

---

## âœ… ä»£ç å®ç°ï¼ˆJavaScriptï¼‰

```js
/**
 * @param {number} n
 * @return {string[]}
 */
var generateParenthesis = function(n) {
    const res = [];

    const backtrack = (path, left, right) => {
        // path: å½“å‰æ„é€ çš„æ‹¬å·å­—ç¬¦ä¸²
        // left: å·²ç»ç”¨æ‰çš„ '(' æ•°é‡
        // right: å·²ç»ç”¨æ‰çš„ ')' æ•°é‡

        // é•¿åº¦åˆ° 2nï¼Œæ”¶é›†ç»“æœ
        if (path.length === 2 * n) {
            res.push(path);
            return;
        }

        // è¿˜èƒ½æ”¾å·¦æ‹¬å·ï¼Œå°±æ”¾ä¸€ä¸ª '('
        if (left < n) {
            backtrack(path + '(', left + 1, right);
        }

        // å³æ‹¬å·æ•°é‡å¿…é¡»å°äºå·¦æ‹¬å·æ—¶ï¼Œæ‰èƒ½æ”¾ ')'
        if (right < left) {
            backtrack(path + ')', left, right + 1);
        }
    };

    backtrack('', 0, 0);
    return res;
};
```

---

## ğŸ” ä»¥ n = 3 ä¸ºä¾‹ï¼Œå¤§è‡´ç”Ÿæˆé¡ºåº

æŒ‰è§„åˆ™é€æ­¥æ„é€ ï¼š

* `"((()))"`
* `"(()())"`
* `"(())()"`
* `"()(())"`
* `"()()()"`

æ­£å¥½å°±æ˜¯ç¤ºä¾‹é‡Œçš„é‚£ 5 ä¸ªã€‚

---

å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥ç»™ä½ ç”»å‡ºè¿™ä¸ªå›æº¯çš„ã€Œæ ‘å½¢å›¾ã€ï¼ŒæŠŠæ¯ä¸€æ­¥æ”¾å·¦æ‹¬å· / å³æ‹¬å·çš„åˆ†æ”¯ç”»å‡ºæ¥ï¼Œå’Œå‰é¢ subsets / combinationSum é‚£äº›å½¢æˆä¸€ä¸ªé€šç”¨çš„â€œå›æº¯å¥—è·¯æ¨¡ç‰ˆâ€ã€‚
# 

å¥½çš„ï¼
ä½ è¦ **æœ€ç®€å•ç‰ˆæœ¬çš„æœ‰æ•ˆæ‹¬å·åˆ¤æ–­**ï¼Œå¹¶ä¸” **åªèƒ½ä½¿ç”¨ `for` + `if`ï¼ˆä¸ç”¨ mapã€ä¸ç”¨å¯¹è±¡ã€ä¸ç”¨ switchã€ä¸è¦èŠ±å“¨ç»“æ„ï¼‰**ã€‚

æˆ‘ç»™ä½ ä¸€ä¸ª **æœ€ç²¾ç®€ã€é€»è¾‘æœ€ç›´ç™½**çš„ç‰ˆæœ¬ï¼Œé‡Œé¢åªæœ‰ `for` å’Œ `if`ã€‚

---

# âœ… æœ€ç®€å•å®ç°ï¼ˆåªç”¨ for + ifï¼‰

```js
/**
 * @param {string} s
 * @return {boolean}
 */
var isValid = function(s) {
    const stack = [];

    for (let i = 0; i < s.length; i++) {
        const ch = s[i];

        if (ch === '(' || ch === '{' || ch === '[') {
            stack.push(ch);
        } else {
            // å¦‚æœæ˜¯å³æ‹¬å·
            if (stack.length === 0) return false;

            const top = stack.pop();

            if (ch === ')' && top !== '(') return false;
            if (ch === ']' && top !== '[') return false;
            if (ch === '}' && top !== '{') return false;
        }
    }

    return stack.length === 0;
};
```

---

# ğŸ“Œ ä¸ºä»€ä¹ˆè¿™æ˜¯æœ€ç®€å•ï¼Ÿ

* åªæœ‰ `for`
* åªæœ‰ `if`
* æ²¡æœ‰å¯¹è±¡ï¼ˆmapï¼‰ã€æ²¡æœ‰ switch
* æ²¡æœ‰å¤æ‚ç»“æ„ï¼Œé€»è¾‘ä¸€çœ¼çœ‹æ‡‚
* åˆå­¦è€…æœ€å®¹æ˜“ç†è§£çš„ç‰ˆæœ¬

---

# ğŸ¯ æç®€ç¤ºä¾‹ï¼šè¾“å…¥ `()"[]{}"`

è¾“å…¥ï¼š

```
"()[]{}"
```

æ ˆå˜åŒ–è¿‡ç¨‹ï¼š

| ch | æ“ä½œ     | æ ˆ |
| -- | ------ | - |
| (  | push   | ( |
| )  | pop åŒ¹é… | ç©º |
| [  | push   | [ |
| ]  | pop åŒ¹é… | ç©º |
| {  | push   | { |
| }  | pop åŒ¹é… | ç©º |

æœ€åæ ˆæ˜¯ç©ºçš„ â†’ `true`

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­ç»™ä½ ï¼š

* **â€œæ›´ç®€åŒ–ç‰ˆâ€ï¼ˆç”šè‡³å»æ‰å˜é‡ï¼‰**
* **â€œé€å­—ç¬¦æ¼”ç¤ºåŠ¨ç”»ç‰ˆâ€**
* **â€œä¸ç”¨æ•°ç»„æ ˆï¼Œåªç”¨å­—ç¬¦ä¸²æ¨¡æ‹Ÿæ ˆâ€çš„ç‰ˆæœ¬**

å‘Šè¯‰æˆ‘å³å¯ï¼
# 
