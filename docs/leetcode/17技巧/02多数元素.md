# 多数元素

给定一个大小为 `n` 的数组 `nums` ，返回其中的多数元素。

多数元素是指在数组中出现次数 大于 `⌊ n/2 ⌋` 的元素。

你可以假设数组是非空的，并且给定的数组总是存在多数元素。

## 示例 1：

输入：`nums = [3,2,3]`

输出：`3`

## 示例 2：

输入：`nums = [2,2,1,1,1,2,2]`

输出：`2`

# Problem Solving

## ideas

## 二、核心思路总结（面试必背）

1️⃣ 什么是多数元素？

- 在数组中 **出现次数 > n / 2** 的元素
- **题目保证一定存在**

2️⃣ Boyer–Moore 投票算法原理

> **多数元素和非多数元素两两抵消，最后剩下的一定是多数元素**

通俗理解：

- 把数组中的元素当成“投票”
- 相同的数 → 给同一个候选人投票
- 不同的数 → 和候选人的一票“互相抵消”
- 多数元素票数多，**怎么抵消都抵不完**

3️⃣ 算法流程（简版）

1. 初始化：

   - `candidate`：当前候选人
   - `count`：当前票数

2. 遍历数组：

   - `count === 0` → 换候选人
   - 当前数 == 候选人 → `count++`
   - 当前数 != 候选人 → `count--`

3. 遍历结束，`candidate` 即为多数元素

## code

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var majorityElement = function (nums) {
  // 当前候选的多数元素
  let candidate = null;

  // 当前候选元素的“票数”
  let count = 0;

  // 遍历数组
  for (let i = 0; i < nums.length; i++) {
    // 如果当前没有候选人（票数为 0）
    if (count === 0) {
      // 选择当前元素作为新的候选人
      candidate = nums[i];
      count = 1;
    } else if (nums[i] === candidate) {
      // 如果当前元素等于候选人，票数 +1
      count++;
    } else {
      // 如果当前元素不等于候选人，票数 -1
      count--;
    }
  }

  // 因为题目保证一定存在多数元素，最终 candidate 就是答案
  return candidate;
};
```

这是 **“多数元素”** 问题（LeetCode 169），
**和你刚才那道题是同一类思想**，但这次我们用一个**更好理解、不用位运算**的方法 👍

---

# 一、核心思路（摩尔投票法 · 超好记）

> **多数元素的出现次数 > n / 2**
> 👉 它“打架”一定能赢到最后

### 规则只有两条：

1. 当前数字 **等于候选人** → 票数 +1
2. 当前数字 **不等于候选人** → 票数 -1
3. 票数为 0 → 换候选人

---

## 二、结合案例讲解（一步一步）

### 示例 1

```js
nums = [3, 2, 3];
```

| 当前数 | 候选人 candidate | 票数 count | 说明               |
| ------ | ---------------- | ---------- | ------------------ |
| 3      | 3                | 1          | 票数为 0，选 3     |
| 2      | 3                | 0          | 不同，票数 -1      |
| 3      | 3                | 1          | 票数为 0，重新选 3 |

✔️ 最终候选人：`3`

---

### 示例 2

```js
nums = [2, 2, 1, 1, 1, 2, 2];
```

| 数字 | 候选人 | 票数 |
| ---- | ------ | ---- |
| 2    | 2      | 1    |
| 2    | 2      | 2    |
| 1    | 2      | 1    |
| 1    | 2      | 0    |
| 1    | 1      | 1    |
| 2    | 1      | 0    |
| 2    | 2      | 1    |

✔️ 最终候选人：`2`

## 四、为什么这个方法一定对？

因为：

- 多数元素 **> n/2**
- 其它所有元素加起来 **< n/2**
- 不管怎么“抵消”，多数元素都不可能被完全抵消掉

👉 最后剩下的一定是它

---

## 五、复杂度分析（完全符合要求）

| 项目       | 复杂度   |
| ---------- | -------- |
| 时间复杂度 | **O(n)** |
| 空间复杂度 | **O(1)** |

---

## 六、和你上一题的关系（一句话理解）

| 题目       | 思想         |
| ---------- | ------------ |
| 只出现一次 | 异或自动抵消 |
| 多数元素   | 投票抵消     |
