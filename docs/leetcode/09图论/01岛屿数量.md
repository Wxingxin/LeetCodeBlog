# é¢˜

ç»™ä½ ä¸€ä¸ªç”± `'1'`ï¼ˆé™†åœ°ï¼‰å’Œ `'0'`ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šgrid = [
  `['1','1','1','1','0'],`
  `['1','1','0','1','0'],`
  `['1','1','0','0','0'],`
  `['0','0','0','0','0']`
]
è¾“å‡ºï¼š1
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š`grid = [`
  `['1','1','0','0','0'],`
  `['1','1','0','0','0'],`
  `['0','0','1','0','0'],`
  `['0','0','0','1','1']`
`]`
è¾“å‡ºï¼š3
# 

ä¸‹é¢ç»™ä½ ä¸€ä¸ª**çœŸæ­£å›¾å½¢åŒ–ã€åƒæµç¨‹å›¾ä¸€æ ·çš„é€’å½’è°ƒç”¨è¿‡ç¨‹**ï¼Œ
å¹¶ä¸”å®Œå…¨åŸºäºè¿™ä¸ªç¤ºä¾‹ gridï¼š

```
[
  ['1','1','1','1','0'],
  ['1','1','0','1','0'],
  ['1','1','0','0','0'],
  ['0','0','0','0','0']
]
```

æˆ‘ä»¬é‡ç‚¹å±•ç¤ºï¼š**ä» (0,0) å¼€å§‹ DFS å¦‚ä½•æ·¹æ‰æ•´ä¸ªå²›å±¿**ã€‚
ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªâ€œé€’å½’æ ‘ + æ–¹å‘æ‰©å±•â€çš„å¯è§†åŒ–æµç¨‹ã€‚

---

# ğŸŒŠ å…¨å›¾ç¤ºæ„ï¼ˆä¸Šå¸è§†è§’ï¼‰

å…ˆæ ‡å‡ºæ¯ä¸ªä½ç½®åæ ‡ï¼ˆæ–¹ä¾¿ä½ ç†è§£ DFS è·³è½¬ï¼‰ï¼š

```
     c0 c1 c2 c3 c4
r0   1  1  1  1  0
r1   1  1  0  1  0
r2   1  1  0  0  0
r3   0  0  0  0  0
```

DFS ä» (0,0) å¼€å§‹å¾€ä¸Šä¸‹å·¦å³æ‰©æ•£ã€‚

---

# ğŸŒ€ æ ‘å½¢ + æµç¨‹å›¾åŒ–é€’å½’å±•å¼€ï¼ˆæ ¸å¿ƒï¼‰

DFS(0,0) æµç¨‹å¦‚ä¸‹ï¼š

```
DFS(0,0)
â”‚
â”œâ”€â”€ æ·¹æ‰ (0,0)
â”‚
â”œâ”€â”€ DFS(-1,0)   â† è¶Šç•Œè¿”å›
â”‚
â”œâ”€â”€ DFS(1,0)
â”‚   â”‚
â”‚   â”œâ”€â”€ æ·¹æ‰ (1,0)
â”‚   â”‚
â”‚   â”œâ”€â”€ DFS(0,0) â† å·²ç»å˜æˆ'0'ï¼Œè¿”å›
â”‚   â”‚
â”‚   â”œâ”€â”€ DFS(2,0)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ æ·¹æ‰ (2,0)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ DFS(1,0) â† å·²æ·¹ï¼Œè¿”å›
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ DFS(3,0) â† grid=0ï¼Œè¿”å›
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ DFS(2,-1) â† è¶Šç•Œè¿”å›
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ DFS(2,1)
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ æ·¹æ‰ (2,1)
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ DFS(1,1)
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â”œâ”€â”€ æ·¹æ‰ (1,1)
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â”œâ”€â”€ DFS(0,1)
â”‚   â”‚       â”‚   â”‚   â”‚
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ æ·¹æ‰ (0,1)
â”‚   â”‚       â”‚   â”‚   â”‚
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ DFS(-1,1) â† è¶Šç•Œ
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ DFS(1,1)  â† å·²æ·¹
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ DFS(0,0)  â† å·²æ·¹
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ DFS(0,2)
â”‚   â”‚       â”‚   â”‚       â”‚
â”‚   â”‚       â”‚   â”‚       â”œâ”€â”€ æ·¹æ‰ (0,2)
â”‚   â”‚       â”‚   â”‚       â”‚
â”‚   â”‚       â”‚   â”‚       â”œâ”€â”€ DFS(-1,2)
â”‚   â”‚       â”‚   â”‚       â”œâ”€â”€ DFS(1,2) â† grid=0
â”‚   â”‚       â”‚   â”‚       â”œâ”€â”€ DFS(0,1) â† å·²æ·¹
â”‚   â”‚       â”‚   â”‚       â””â”€â”€ DFS(0,3)
â”‚   â”‚       â”‚   â”‚           â”‚
â”‚   â”‚       â”‚   â”‚           â”œâ”€â”€ æ·¹æ‰ (0,3)
â”‚   â”‚       â”‚   â”‚           â”‚
â”‚   â”‚       â”‚   â”‚           â”œâ”€â”€ DFS(-1,3)
â”‚   â”‚       â”‚   â”‚           â”œâ”€â”€ DFS(1,3)
â”‚   â”‚       â”‚   â”‚           â”‚   â”‚
â”‚   â”‚       â”‚   â”‚           â”‚   â”œâ”€â”€ æ·¹æ‰ (1,3)
â”‚   â”‚       â”‚   â”‚           â”‚   â”‚
â”‚   â”‚       â”‚   â”‚           â”‚   â”œâ”€â”€ DFS(0,3)
â”‚   â”‚       â”‚   â”‚           â”‚   â”œâ”€â”€ DFS(2,3) â† grid=0
â”‚   â”‚       â”‚   â”‚           â”‚   â”œâ”€â”€ DFS(1,2) â† 0
â”‚   â”‚       â”‚   â”‚           â”‚   â””â”€â”€ DFS(1,4) â† 0
â”‚   â”‚       â”‚   â”‚           â”‚
â”‚   â”‚       â”‚   â”‚           â”œâ”€â”€ DFS(0,2)
â”‚   â”‚       â”‚   â”‚           â””â”€â”€ DFS(0,4) â† grid=0
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â”œâ”€â”€ DFS(2,1) â† å·²æ·¹
â”‚   â”‚       â”‚   â”œâ”€â”€ DFS(1,0) â† å·²æ·¹
â”‚   â”‚       â”‚   â””â”€â”€ DFS(1,2) â† 0
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ DFS(3,1) â† 0
â”‚   â”‚       â”œâ”€â”€ DFS(2,0) â† å·²æ·¹
â”‚   â”‚       â””â”€â”€ DFS(2,2) â† 0
â”‚   â”‚
â”‚   â”œâ”€â”€ DFS(1,-1) â† è¶Šç•Œ
â”‚   â””â”€â”€ DFS(1,1)  â† å·²æ·¹
â”‚
â”œâ”€â”€ DFS(0,-1) â† è¶Šç•Œ
â””â”€â”€ DFS(0,1) â† å·²æ·¹
```

---

# ğŸ” æ›´ç›´è§‚çš„å›¾ï¼ˆæŒ‰æ‰©æ•£é¡ºåºâ€œæ¶‚è‰²â€ï¼‰

å‡è®¾ DFS æ¯æ¬¡æ·¹æ‰çš„ä½ç½®æ ‡è®°ä¸º `X`
æ·¹å²›é¡ºåºå¦‚ä¸‹ï¼ˆæŒ‰ç¼–å·æ ‡å‡º DFS æ‰§è¡Œé¡ºåºï¼‰ï¼š

```
æ­¥éª¤åºå· å³ DFS æ·¹æ‰è¯¥ç‚¹çš„é¡ºåº
--------------------------------
 1  2  6 10  .
 3  4  . 11  .
 5  7  .  .  .
 .  .  .  .  .
```

å›¾ç¤ºï¼š

```
r0: 1  8  9  10  .
r1: 2  7  .  11  .
r2: 3  6  .   .  .
r3: .  .  .   .  .
```

è¯´æ˜ï¼š

* ä» (0,0) â†’ (1,0) â†’ (2,0) å‘â€œä¸‹â€æ‰©æ•£
* å†è½¬å‘â€œå³â€æ‰©æ•£ï¼š (2,1) â†’ (1,1) â†’ (0,1)
* å†å‘å³ï¼š (0,2) â†’ (0,3)
* å†å¾€ä¸‹ï¼š (1,3)

æœ€åæ•´ä¸ªå²›æ·¹æ‰ï¼Œ DFS å®Œæˆã€‚

---

# ğŸ‰ æ€»ç»“ï¼ˆä½ çœ‹åˆ°çš„æ˜¯ä»€ä¹ˆï¼‰

ä¸Šé¢å›¾å½¢åŒ–å±•ç¤ºæ¸…æ¥šè¯´æ˜äº†ï¼š

1. DFS æ˜¯ä¸€ä¸ªâ€œæ ‘å½¢å±•å¼€â€çš„è¿‡ç¨‹
2. æ¯ä¸ªä½ç½®ä¼šå¾€ **ä¸Šã€ä¸‹ã€å·¦ã€å³** æ‰©æ•£
3. æ‰€æœ‰èƒ½è¿åˆ°çš„ `'1'` éƒ½ä¼šè¢«é€’å½’è®¿é—®å¹¶æ·¹æ‰
4. å²›å±¿åªä¼šè¢«è®¡æ•°ä¸€æ¬¡ï¼ˆå› ä¸ºç¬¬ä¸€æ¬¡é‡åˆ°å®ƒæ—¶ä¼šè¢«æ•´ç‰‡åæ‰ï¼‰

---

å¦‚æœä½ æƒ³ï¼Œæˆ‘è¿˜å¯ä»¥åˆ¶ä½œä¸€ä¸ª **ASCII åŠ¨æ€è¿‡ç¨‹**ï¼ˆä¸€å¸§ä¸€å¸§æ˜¾ç¤º DFS å¦‚ä½•æ‰©æ•£ï¼‰ï¼Œæˆ–è€…åšä¸€ä¸ª **é¢œè‰²å›¾æ ‡æ ‡è®°å›¾ï¼ˆå½©è‰²å²›å±¿è¿é€šæ¼”ç¤ºï¼‰**ã€‚

å‘Šè¯‰æˆ‘å³å¯ï¼

# 

æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªé¢˜ç†è§£æˆï¼š
åœ¨ä¸€ä¸ªç”± `'1'`ï¼ˆé™†åœ°ï¼‰å’Œ `'0'`ï¼ˆæ°´ï¼‰ç»„æˆçš„åœ°å›¾é‡Œï¼Œ**æ•°æœ‰å¤šå°‘å—äº’ç›¸è¿é€šçš„é™†åœ°å—**ï¼ˆä¸Šä¸‹å·¦å³è¿æˆä¸€ç‰‡ç®—ä¸€åº§å²›ï¼‰ã€‚

ä¸‹é¢ç»™ä½ ç»å…¸çš„ DFS è§£æ³•ï¼ˆä¹Ÿé¡ºä¾¿è¯´ä¸‹ BFS æ€è·¯ï¼‰ï¼Œæœ€åæ˜¯å®Œæ•´ JS ä»£ç ã€‚

---

## ğŸ§  æ€è·¯

æ ¸å¿ƒæƒ³æ³•ï¼š

1. éå†æ•´ä¸ªäºŒç»´ç½‘æ ¼ `grid`ã€‚
2. æ¯å½“é‡åˆ°ä¸€ä¸ªè¿˜æ²¡è®¿é—®è¿‡çš„ `'1'`ï¼š

   * è¯´æ˜å‘ç°äº†ä¸€åº§**æ–°å²›å±¿** â†’ å²›å±¿æ•°é‡ `count++`
   * ç„¶åä»è¿™ä¸ªæ ¼å­å‡ºå‘ï¼Œä½¿ç”¨ **DFS æˆ– BFS** æŠŠä¸å®ƒç›¸è¿çš„æ‰€æœ‰ `'1'` éƒ½â€œæ·¹æ‰â€æˆ–æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œé¿å…é‡å¤è®¡æ•°ã€‚
3. éå†å®Œæ‰€æœ‰æ ¼å­ä¹‹åï¼Œ`count` å°±æ˜¯å²›å±¿æ•°é‡ã€‚

â€œæ·¹æ‰â€çš„å…·ä½“æ“ä½œå¯ä»¥æ˜¯ï¼š

* æŠŠ `'1'` æ”¹æˆ `'0'`ï¼ˆåŸåœ°ä¿®æ”¹ï¼Œä¸éœ€è¦é¢å¤– visited æ•°ç»„ï¼‰
* æˆ–è€…ç”¨ä¸€ä¸ª `visited` æ•°ç»„è®°å½•è®¿é—®è¿‡çš„èŠ‚ç‚¹

æˆ‘ä»¬ç”¨åŸåœ°æ”¹æˆ `'0'` çš„æ–¹å¼ï¼Œä»£ç æ›´ç®€æ´ã€‚

---

## ğŸ” DFS å…·ä½“åšæ³•

å®šä¹‰ä¸€ä¸ª `dfs(r, c)` å‡½æ•°ï¼Œä½œç”¨æ˜¯ï¼š

> ä»ä½ç½® `(r, c)` è¿™ä¸ª `'1'` å‡ºå‘ï¼ŒæŠŠä¸å®ƒè¿æ¥çš„æ•´å—é™†åœ°éƒ½é€’å½’æ ‡è®°ä¸º `'0'`ã€‚

æ­¥éª¤ï¼š

1. å¦‚æœ `(r, c)` è¶Šç•Œï¼Œç›´æ¥è¿”å›ã€‚
2. å¦‚æœ `grid[r][c] === '0'`ï¼Œè¯´æ˜ä¸æ˜¯é™†åœ°ï¼Œè¿”å›ã€‚
3. å¦åˆ™ï¼š

   * æŠŠ `grid[r][c]` æ”¹ä¸º `'0'`ï¼Œè¡¨ç¤ºå·²ç»è®¿é—®è¿‡ã€‚
   * é€’å½’è®¿é—®å®ƒçš„ **ä¸Šã€ä¸‹ã€å·¦ã€å³** å››ä¸ªæ–¹å‘ï¼š

     ```js
     dfs(r - 1, c);
     dfs(r + 1, c);
     dfs(r, c - 1);
     dfs(r, c + 1);
     ```

ä¸»å¾ªç¯ï¼š

* ä¸¤å±‚ for å¾ªç¯éå†æ¯ä¸ªæ ¼å­ `(i, j)`ï¼š

  * å¦‚æœ `grid[i][j] === '1'`ï¼š

    * `count++`
    * è°ƒç”¨ `dfs(i, j)` æŠŠæ•´å—å²›æ·¹æ‰

---

## âœ… å®Œæ•´ JavaScript ä»£ç 

```js
/**
 * @param {character[][]} grid
 * @return {number}
 */
var numIslands = function(grid) {
    if (!grid || grid.length === 0) return 0;

    const rows = grid.length;
    const cols = grid[0].length;
    let count = 0;

    // æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ŒæŠŠè¿æ¥çš„é™†åœ°å…¨éƒ¨â€œæ·¹æ‰â€
    const dfs = (r, c) => {
        // è¶Šç•Œç›´æ¥è¿”å›
        if (r < 0 || r >= rows || c < 0 || c >= cols) return;
        // é‡åˆ°æ°´æˆ–è€…å·²è®¿é—®è¿‡çš„é™†åœ°ï¼ˆå·²è¢«ç½®ä¸º '0'ï¼‰ä¹Ÿè¿”å›
        if (grid[r][c] === '0') return;

        // æ ‡è®°å½“å‰æ ¼å­ä¸ºæ°´ï¼Œè¡¨ç¤ºå·²è®¿é—®
        grid[r][c] = '0';

        // ç»§ç»­å‘ä¸Šä¸‹å·¦å³æ‰©å±•
        dfs(r - 1, c); // ä¸Š
        dfs(r + 1, c); // ä¸‹
        dfs(r, c - 1); // å·¦
        dfs(r, c + 1); // å³
    };

    // éå†ç½‘æ ¼
    for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
            if (grid[i][j] === '1') {
                // å‘ç°ä¸€åº§æ–°çš„å²›
                count++;
                // æŠŠæ•´åº§å²›éƒ½æ·¹æ‰
                dfs(i, j);
            }
        }
    }

    return count;
};
```

---

## ğŸ§ª ç”¨ä½ çš„ç¤ºä¾‹è·‘ä¸€é

```js
grid = [
  ['1','1','1','1','0'],
  ['1','1','0','1','0'],
  ['1','1','0','0','0'],
  ['0','0','0','0','0']
]
```

* ä» (0,0) ç¬¬ä¸€æ¬¡é‡åˆ° `'1'` â†’ `count = 1`ï¼Œç„¶å DFS æŠŠæ‰€æœ‰è¿é€šçš„ `'1'` éƒ½æ”¹æˆ `'0'`
* ä¹‹åå†éå†æ•´ä¸ªç½‘æ ¼æ—¶ï¼Œå†ä¹Ÿä¸ä¼šå‡ºç°æ–°çš„ `'1'`
* æœ€ç»ˆç»“æœï¼š`1`

---

å¦‚æœä½ æƒ³æˆ‘ä¹Ÿå¯ä»¥å†ç»™ä½ ï¼š

* BFS é˜Ÿåˆ—ç‰ˆæœ¬å†™æ³•
* åŠ æ‰“å°æ—¥å¿—ç‰ˆï¼Œé€æ­¥å±•ç¤º DFS å¦‚ä½•â€œæ·¹å²›â€
  ä½ è¯´ä¸€å£°å°±è¡Œã€‚
# 

å¤ªæ£’äº†ï¼è¿™æ˜¯ LeetCode ç¬¬ 200 é¢˜ã€Œå²›å±¿æ•°é‡ã€ï¼ˆNumber of Islandsï¼‰ï¼Œç»å…¸çš„ **DFS + åŸåœ°ä¿®æ”¹** é¢˜ç›®ã€‚

ä½ ç»™çš„ä»£ç å·²ç»æ˜¯ **æœ€ä¼˜è§£**ï¼Œç°åœ¨æˆ‘ç»“åˆä½ æä¾›çš„æ¡ˆä¾‹ï¼Œç”¨ **å›¾å½¢åŒ–é€’å½’è°ƒç”¨æ ˆæµç¨‹å›¾**ï¼ˆåƒç”»æ ‘ä¸€æ ·ï¼‰æ¥å®Œæ•´æ¼”ç¤ºæ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼

---

### è¾“å…¥ç½‘æ ¼ï¼ˆ4Ã—5ï¼‰

```text
grid = [
  ['1','1','0','0','0'],    â†’ ç¬¬0è¡Œ
  ['1','1','0','0','0'],    â†’ ç¬¬1è¡Œ
  ['0','0','1','0','0'],    â†’ ç¬¬2è¡Œ
  ['0','0','0','1','1']     â†’ ç¬¬3è¡Œ
]
```

å¯è§†åŒ–å¦‚ä¸‹ï¼š

```
    0   1   2   3   4      â† åˆ—å·
  +---+---+---+---+---+
0 | 1 | 1 | 0 | 0 | 0 |
  +---+---+---+---+---+
1 | 1 | 1 | 0 | 0 | 0 |
  +---+---+---+---+---+
2 | 0 | 0 | 1 | 0 | 0 |
  +---+---+---+---+---+
3 | 0 | 0 | 0 | 1 | 1 |
  +---+---+---+---+---+
  â†‘       â†‘       â†‘ â†‘
 è¡Œå·      å²›1     å²›2  å²›3
```

ä¸€å…±æœ‰ **3 åº§å²›**

---

### å®Œæ•´é€’å½’è°ƒç”¨è¿‡ç¨‹ï¼ˆåƒæµç¨‹å›¾ä¸€æ ·å±•å¼€ï¼‰

æˆ‘ä»¬ä»å·¦ä¸Šè§’å¼€å§‹éå†ï¼Œç¬¬ä¸€æ¬¡é‡åˆ° `'1'` æ˜¯åœ¨ `(0,0)`

#### ç¬¬1åº§å²›ï¼šå·¦ä¸Šè§’å¤§å²›ï¼ˆåæ ‡é›†åˆï¼š(0,0),(0,0),(1,0),(1,1)ï¼‰

```
ä¸»ç¨‹åºè°ƒç”¨ï¼šdfs(0,0)  â†’ å‘ç°æ–°å²›ï¼count = 1
â””â”€â”€ dfs(0,0) å¼€å§‹
    â”œâ”€â”€ grid[0][0] = '1' â†’ æ ‡è®°ä¸º '0'ï¼ˆæ²‰æ²¡ï¼‰
    â”œâ”€â”€ è°ƒç”¨ dfs(-1,0) â†’ è¶Šç•Œ â†’ è¿”å›
    â”œâ”€â”€ è°ƒç”¨ dfs(1,0)  â†’ è¿›å…¥ï¼
    â”‚   â””â”€â”€ dfs(1,0)
    â”‚       â”œâ”€â”€ grid[1][0]='1' â†’ æ²‰æ²¡
    â”‚       â”œâ”€â”€ dfs(0,0) â†’ å·²æ˜¯'0' â†’ è¿”å›
    â”‚       â”œâ”€â”€ dfs(2,0) â†’ æ˜¯'0' â†’ è¿”å›
    â”‚       â”œâ”€â”€ dfs(1,-1)â†’ è¶Šç•Œ
    â”‚       â””â”€â”€ è°ƒç”¨ dfs(1,1) â†’ è¿›å…¥ï¼
    â”‚           â””â”€â”€ dfs(1,1)
    â”‚               â”œâ”€â”€ grid[1][1]='1' â†’ æ²‰æ²¡
    â”‚               â”œâ”€â”€ dfs(0,1) â†’ è¿›å…¥ï¼
    â”‚               â”‚   â””â”€â”€ dfs(0,1)
    â”‚               â”‚       â”œâ”€â”€ grid[0][1]='1' â†’ æ²‰æ²¡
    â”‚               â”‚       â”œâ”€â”€ dfs(-1,1) è¶Šç•Œ
    â”‚               â”‚       â”œâ”€â”€ dfs(1,1) å·²æ²‰
    â”‚               â”‚       â”œâ”€â”€ dfs(0,0) å·²æ²‰
    â”‚               â”‚       â””â”€â”€ dfs(0,1+1)=(0,2) â†’ æ˜¯'0' â†’ è¿”å›
    â”‚               â”œâ”€â”€ dfs(2,1) â†’ æ˜¯'0'
    â”‚               â”œâ”€â”€ dfs(1,0) å·²æ²‰
    â”‚               â””â”€â”€ dfs(1,2) â†’ æ˜¯'0'
    â””â”€â”€ è°ƒç”¨ dfs(0,1) â†’ å·²è¢«ä¸Šé¢ dfs(1,1) æ²‰æ²¡ â†’ è¿”å›
```

**ç¬¬ä¸€åº§å²›å…¨éƒ¨æ²‰æ²¡ï¼** å·¦ä¸Šè§’ 4 ä¸ª `'1'` å…¨å˜æˆ `'0'`

æ­¤æ—¶ç½‘æ ¼å˜æˆï¼š

```
  0 1 0 0 0
  0 0 0 0 0
  0 0 1 0 0
  0 0 0 1 1
```

ç»§ç»­éå†ï¼Œè·³è¿‡ä¸€å † `'0'`ï¼Œç›´åˆ°å‘ç° `(2,2)`

#### ç¬¬2åº§å²›ï¼šä¸­é—´çš„å­¤å²› `(2,2)`

```
ä¸»ç¨‹åºè°ƒç”¨ï¼šdfs(2,2) â†’ å‘ç°æ–°å²›ï¼count = 2
â””â”€â”€ dfs(2,2)
    â”œâ”€â”€ grid[2][2]='1' â†’ æ²‰æ²¡
    â”œâ”€â”€ dfs(1,2) â†’ æ˜¯'0'
    â”œâ”€â”€ dfs(3,2) â†’ æ˜¯'0'
    â”œâ”€â”€ dfs(2,1) â†’ æ˜¯'0'
    â””â”€â”€ dfs(2,3) â†’ æ˜¯'0'
```

åªæœ‰è‡ªå·±ä¸€ä¸ªï¼Œå­¤å²›æ²‰æ²¡ï¼

ç½‘æ ¼å˜æˆï¼š

```
  0 1 0 0 0
  0 0 0 0 0
  0 0 0 0 0
  0 0 0 1 1
```

#### ç¬¬3åº§å²›ï¼šå³ä¸‹è§’å°å²› `(3,3)` å’Œ `(3,4)`

```
ä¸»ç¨‹åºè°ƒç”¨ï¼šdfs(3,3) â†’ å‘ç°æ–°å²›ï¼count = 3
â””â”€â”€ dfs(3,3)
    â”œâ”€â”€ grid[3][3]='1' â†’ æ²‰æ²¡
    â”œâ”€â”€ dfs(2,3) â†’ æ˜¯'0'
    â”œâ”€â”€ dfs(4,3) â†’ è¶Šç•Œ
    â”œâ”€â”€ dfs(3,2) â†’ æ˜¯'0'
    â””â”€â”€ è°ƒç”¨ dfs(3,4) â†’ è¿›å…¥ï¼
        â””â”€â”€ dfs(3,4)
            â”œâ”€â”€ grid[3][4]='1' â†’ æ²‰æ²¡
            â”œâ”€â”€ dfs(2,4) â†’ æ˜¯'0'
            â”œâ”€â”€ dfs(4,4) è¶Šç•Œ
            â”œâ”€â”€ dfs(3,3) å·²æ²‰
            â””â”€â”€ dfs(3,5) è¶Šç•Œ
```

æ•´åº§å²›æ²‰æ²¡ï¼

---

### æœ€ç»ˆç»“æœ

æ‰€æœ‰ `'1'` éƒ½è¢«â€œæ·¹æ²¡â€æˆ `'0'`0'`ï¼Œå…±è§¦å‘äº† 3 æ¬¡ `dfs` å…¥å£ â†’ **å²›å±¿æ•°é‡ = 3**

è¿”å› `3`

---

### é€’å½’è°ƒç”¨æ ˆæ ‘çŠ¶å›¾æ€»ç»“ï¼ˆè¶…çº§æ¸…æ™°ç‰ˆï¼ï¼‰

```
ä¸»éå†
â”œâ”€â”€ å‘ç° (0,0) â†’ dfs(0,0) â†’ ç¬¬1åº§å²›ï¼ˆå·¦ä¸Šè¿é€šå—ï¼‰
â”‚   â”œâ”€â”€ dfs(1,0)
â”‚   â”‚   â””â”€â”€ dfs(1,1)
â”‚   â”‚       â””â”€â”€ dfs(0,1)   â† å›æº¯æ—¶å‘ç°å¹¶æ²‰æ²¡
â”‚   â””â”€â”€ dfs(0,1)           â† å·²è¢«æ²‰æ²¡ï¼Œç›´æ¥è¿”å›
â”‚
â”œâ”€â”€ å‘ç° (2,2) â†’ dfs(2,2) â†’ ç¬¬2åº§å²›ï¼ˆå­¤å²›ï¼‰
â”‚   â””â”€â”€ å››ä¸ªæ–¹å‘å…¨æ˜¯0ï¼Œç›´æ¥è¿”å›
â”‚
â””â”€â”€ å‘ç° (3,3) â†’ dfs(3,3) â†’ ç¬¬3åº§å²›
    â””â”€â”€ dfs(3,4) â†’ ç›¸é‚»é™†åœ°è¢«æ²‰æ²¡
```

---

### ä¸ºä»€ä¹ˆè¿™ä¸ªå†™æ³•æ˜¯æœ€ä¼˜çš„ï¼Ÿ

| æ–¹æ¡ˆ         | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦       | æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„ | æ¨èåº¦ |
|--------------|------------|------------------|----------------|--------|
| DFSï¼ˆæœ¬é¢˜ï¼‰  | O(mÃ—n)     | O(mÃ—n) é€’å½’æ ˆ    | æ˜¯ï¼ˆåŸåœ°æ ‡è®°ï¼‰ | 5 stars |
| BFS          | O(mÃ—n)     | O(min(m,n)) é˜Ÿåˆ— | æ˜¯             | 4 stars |
| å¹¶æŸ¥é›†       | O(mÃ—n)     | O(mÃ—n)           | å¦             | 3 starsï¼ˆå¤æ‚ï¼‰ |

**æœ¬è§£æ³• = æ—¶é—´æœ€ä¼˜ + ç©ºé—´æœ€ä¼˜ï¼ˆä¸é¢å¤–ç”¨ visited æ•°ç»„ï¼‰**

---

### æœ€ç»ˆç»“è®º

ä½ çš„ä»£ç å®Œç¾æ— ç¼ºï¼  
è¿™æ˜¯ã€Œå²›å±¿ç³»åˆ—é¢˜ã€ï¼ˆ200ã€1254ã€695ã€1905ç­‰ï¼‰çš„çµé­‚å†™æ³•ï¼Œ**èƒŒä¸‹æ¥ç›´æ¥ç§’æ€**ï¼

```js
var numIslands = function(grid) {
    if (!grid || grid.length === 0) return 0;
    const rows = grid.length, cols = grid[0].length;
    let count = 0;
    
    const dfs = (r, c) => {
        if (r < 0 || r >= rows || c < 0 || c >= cols || grid[r][c] === '0') return;
        grid[r][c] = '0';  // æ²‰æ²¡
        dfs(r-1, c);
        dfs(r+1, c);
        dfs(r, c-1);
        dfs(r, c+1);
    };
    
    for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
            if (grid[i][j] === '1') {
                count++;
                dfs(i, j);
            }
        }
    }
    return count;
};
```

**ç­”æ¡ˆï¼š3**  
**æŠ€å·§å£è¯€**ï¼šã€Œçœ‹åˆ°1å°±æ²‰æ²¡æ•´åº§å²›ï¼Œæ²‰æ²¡ç”¨DFSï¼Œæ ‡è®°ç”¨åŸåœ°æ”¹0ï¼Œæ•°å²›åªæ•°å…¥å£æ¬¡æ•°ã€ï¼

æ”¶è—ã€èƒŒä¼šã€é¢è¯•ç›´æ¥å†™ï¼