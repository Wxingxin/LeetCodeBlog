# 最长公共前缀

编写一个函数来查找字符串数组中的最长公共前缀。

如果不存在公共前缀，返回空字符串 ""。

 

### 示例 1：

输入：`strs = ["flower","flow","flight"]`

输出：`"fl"`
### 示例 2：

输入：`strs = ["dog","racecar","car"]`

输出：`""`

解释：输入不存在公共前缀。

## 

这题是 **LeetCode · 最长公共前缀（Longest Common Prefix）**，典型**字符串 + 边界处理**题。

我先给你 **最稳、最常考的解法**，然后再补两种思路，帮你形成体系。

---

## ✅ 解法一（推荐）：**横向扫描（逐个缩短前缀）**

### 核心思想

* 先把 **第一个字符串**当作公共前缀 `prefix`
* 依次和后面的字符串比较
* 只要当前字符串 **不以 prefix 开头**，就不断缩短 prefix
* 如果 prefix 变成空串，直接返回 `""`

---

### ✅ JS 标准代码（面试首选）

```js
/**
 * @param {string[]} strs
 * @return {string}
 */
var longestCommonPrefix = function(strs) {
  if (!strs || strs.length === 0) return "";

  let prefix = strs[0];

  for (let i = 1; i < strs.length; i++) {
    // 不断缩短 prefix，直到匹配或为空
    while (strs[i].indexOf(prefix) !== 0) {
      prefix = prefix.slice(0, -1);
      if (prefix === "") return "";
    }
  }

  return prefix;
};
```

---

## 🧠 示例拆解（`["flower","flow","flight"]`）

* prefix = `"flower"`
* 和 `"flow"` 比：

  * `"flower"` ❌
  * `"flowe"` ❌
  * `"flow"` ✅
* 和 `"flight"` 比：

  * `"flow"` ❌
  * `"flo"` ❌
  * `"fl"` ✅
* 返回 `"fl"`

---

## ⏱️ 复杂度分析

* **时间复杂度**：`O(n * m)`

  * `n` 是字符串个数
  * `m` 是最短字符串长度
* **空间复杂度**：`O(1)`

---

## 🧩 解法二：**纵向扫描（按列比较）**

### 思路

* 以第一个字符串为基准
* 第 `i` 个字符，逐个和所有字符串对比
* 一旦不一致，直接返回前缀

```js
var longestCommonPrefix = function(strs) {
  if (strs.length === 0) return "";

  for (let i = 0; i < strs[0].length; i++) {
    const ch = strs[0][i];
    for (let j = 1; j < strs.length; j++) {
      if (i >= strs[j].length || strs[j][i] !== ch) {
        return strs[0].slice(0, i);
      }
    }
  }

  return strs[0];
};
```

✔️ 逻辑直观
❌ 写起来稍微绕一点

---

## 🧩 解法三：排序法（了解即可）

```js
var longestCommonPrefix = function(strs) {
  if (strs.length === 0) return "";

  strs.sort();
  let a = strs[0];
  let b = strs[strs.length - 1];
  let i = 0;

  while (i < a.length && a[i] === b[i]) i++;
  return a.slice(0, i);
};
```

❌ 改变原数组
❌ 多了一次 `O(n log n)` 排序

---

## 📌 面试官最爱你怎么说？

> “我用横向扫描，把第一个字符串当作前缀，不断和后面的字符串比，不匹配就缩短前缀，直到匹配或为空。”

这句话说完，**通过率很高**。

---

## 🧠 一句话总结

> **前缀不匹配就缩短，能撑到最后的就是答案。**

如果你愿意，我可以：

* 把这题和 **Trie（前缀树）** 写成进阶版
* 或整理一套 **字符串高频面试模板**
* 或给你 **3 道同类 LeetCode 题一起练**

你选一个，我继续带你 🚀
